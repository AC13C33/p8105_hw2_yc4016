---
title: "p8105_hw2_yc4016"
output: github_document
date: "2022-09-27"
author: "Yishan Chen"
---

```{r, setup, include = FALSE}
library(tidyverse)
library(readxl)
```

# Problem 1 

```{r}
hw2p1_df = 
  read_csv(
    "data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv",
    col_types = cols(Route8 = "c", Route9 = "c", Route10 = "c", Route11 = "c")) %>% 
  janitor::clean_names() %>% 
  select(
    line, station_name, station_latitude, station_longitude, 
    starts_with("route"), entry, exit_only, vending, entrance_type, 
    ada) %>% 
  mutate(entry = ifelse(entry == "YES", TRUE, FALSE))
```


##### Description 

These data are not "tidy", becasue the route number is not a sigle varible. So we need to convert `route` variables from wide to long format. This will be useful when focusing on specific routes, but may not be necessary when considering questions that focus on station-level variables. 


```{r}
hw2p1_df %>% 
  select(station_name, line) %>% 
  distinct
```

The ode chunk selects station name and line, and then uses `distinct()` to obtain all unique combinations. As a result, the number of rows in this dataset is the number of unique stations.


```{r}
hw2p1_df %>% 
  filter(ada == TRUE) %>% 
  select(station_name, line) %>% 
  distinct
```

Filter according to ADA compliance as an initial step. This produces a dataframe in which the number of rows is the number of ADA compliant stations. 

